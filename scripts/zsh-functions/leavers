alias leave-brew="brew bundle dump --file=./.Brewfile --force --describe --no-vscode"
alias leave-cursor="cursor --list-extensions > cursor-extensions.txt"

leave-machine() {
    echo "ğŸš€ Leaving machine - capturing all package lists..."
    
    # Ensure we're in dotfiles directory
    cd "$HOME/dotfiles" || {
        echo "âŒ Error: Not in dotfiles directory"
        return 1
    }
    
    # Capture all package lists
    leave-brew
    echo "ğŸ” Brewfile captured"
    leave-cursor
    echo "ğŸ” Cursor extensions captured"

    # Git operations if -c flag is passed
    if [[ "$*" == *"-c"* ]]; then
        echo "ğŸ“ Committing changes..."
        git add .
        git commit -m "Leaving machine - $(date '+%Y-%m-%d %H:%M:%S')"
        git push origin main
    fi
    
    echo "âœ… Successfully left machine!"
}
